### Teste do Sistema de Pedidos de Aluguel

### 1. Login como administrador
POST http://localhost:8080/api/auth/signin
Content-Type: application/json

{
  "email": "admin@admin.com",
  "password": "admin123"
}

### 2. Login como usuário comum
POST http://localhost:8080/api/auth/signin
Content-Type: application/json

{
  "email": "user@user.com",
  "password": "user123"
}

### 3. Listar todos os pedidos (público)
GET http://localhost:8080/api/pedidos
Authorization: Bearer {{token}}

### 4. Listar pedidos pendentes (apenas admin)
GET http://localhost:8080/api/pedidos/pendentes
Authorization: Bearer {{token}}

### 5. Criar novo pedido de aluguel
POST http://localhost:8080/api/pedidos
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "clienteId": 1,
  "automovelId": 1,
  "dataInicio": "2024-10-01T10:00:00",
  "dataFim": "2024-10-05T18:00:00",
  "observacoes": "Pedido de teste para aluguel de carro"
}

### 6. Buscar pedido por ID
GET http://localhost:8080/api/pedidos/1
Authorization: Bearer {{token}}

### 7. Aprovar pedido (apenas admin)
PUT http://localhost:8080/api/pedidos/1/aprovar
Authorization: Bearer {{token}}

### 8. Rejeitar pedido (apenas admin)
PUT http://localhost:8080/api/pedidos/1/rejeitar
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "motivo": "Automóvel não disponível no período solicitado"
}

### 9. Iniciar aluguel (apenas admin)
PUT http://localhost:8080/api/pedidos/1/iniciar
Authorization: Bearer {{token}}

### 10. Finalizar aluguel (apenas admin)
PUT http://localhost:8080/api/pedidos/1/finalizar
Authorization: Bearer {{token}}

### 11. Listar pedidos por cliente
GET http://localhost:8080/api/pedidos/cliente/1
Authorization: Bearer {{token}}

### 12. Buscar pedidos com filtros
GET http://localhost:8080/api/pedidos/filtros?status=PENDENTE&ativo=true
Authorization: Bearer {{token}}

### 13. Obter estatísticas (apenas admin)
GET http://localhost:8080/api/pedidos/estatisticas
Authorization: Bearer {{token}}

### 14. Finalizar pedidos expirados (apenas admin)
POST http://localhost:8080/api/pedidos/finalizar-expirados
Authorization: Bearer {{token}}

### 15. Desativar pedido (apenas admin)
DELETE http://localhost:8080/api/pedidos/1
Authorization: Bearer {{token}}

### 16. Teste de validação - Data inválida
POST http://localhost:8080/api/pedidos
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "clienteId": 1,
  "automovelId": 1,
  "dataInicio": "2024-10-05T10:00:00",
  "dataFim": "2024-10-01T18:00:00",
  "observacoes": "Data de fim anterior à data de início"
}

### 17. Teste de validação - Cliente inexistente
POST http://localhost:8080/api/pedidos
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "clienteId": 999,
  "automovelId": 1,
  "dataInicio": "2024-10-01T10:00:00",
  "dataFim": "2024-10-05T18:00:00"
}

### 18. Teste de validação - Automóvel inexistente
POST http://localhost:8080/api/pedidos
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "clienteId": 1,
  "automovelId": 999,
  "dataInicio": "2024-10-01T10:00:00",
  "dataFim": "2024-10-05T18:00:00"
}
